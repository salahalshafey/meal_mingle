import 'package:get_it/get_it.dart';

import 'core/network/network_info.dart';

import 'features/food_scanning/data/services/food_scanning_service.dart';
import 'features/food_scanning/viewmodels/food_scanning_viewmodel.dart';
import 'features/food_scanning/views/providers/food_scan.dart';

final sl = GetIt.instance;

Future<void> init() async {
///////////////////////////////////////////// !!!! Features - FoodScanning !!!! //////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Provider "View"

  sl.registerFactory(() => FoodScan(
        foodScanningViewModel: sl(),
      ));

// Viewmodels

  sl.registerLazySingleton<FoodScanningViewModel>(
      () => FoodScanningViewModelImpl(
            foodScanningService: sl(),
            networkInfo: sl(),
          ));

// Services "Model"

  sl.registerLazySingleton<FoodScanningService>(() => GeminiProVisionImpl());

////////////////////////////////////// !!!! Features - Save Food Scanning Result !!!! ////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////// !!!! core !!!! ///////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  sl.registerLazySingleton<NetworkInfo>(() => MyNetworkInfoImpl());
}
